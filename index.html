<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Guía del Curso de Administración de Servidores Linux</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">
    <link rel="manifest" href="assets/manifest.json">
    <link rel="mask-icon" href="assets/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="theme-color" content="#ffffff">
    <style type="text/css">
        div.jumbotron {
            background-image: url('assets/linux-terminal.png');
            background-position: top;
            background-color: #333333;
        }
            .white {
                color: white !important;
            }
                footer {
                    background-color: #eee;
                }
                    footer div.container img {
                        margin: 5%;
                    }
                        p.foo {
                            font-size: 1.2em;
                        }
                        footer div.container-fluid {
                            background-color: #555555;
                        }
                            footer div.container-fluid p {
                                margin: .5%;
                            }
    </style>
</head>
<body>
    <div class="jumbotron">
        <div class="container">
            <h1 class="white">Guía del Curso de Administración de Servidores Linux</h1>
        </div>
    </div>

    <div class="container">
        <h2>Introducción a Linux</h2>
        <p>A continuación se listarán y detallarán los comandos más esenciales a la hora de administrar servidores Linux.</p>
        <!-- Lista desordenada -->
        <ul>
            <li><strong>ifconfig:</strong> Permite ver las network interfaces</li>
            <li><strong>ifdown [network interface]:</strong> Desactiva dicha interface</li>
            <li><strong>ifup [network interface]:</strong> Activa dicha interface</li>
            <p>Los binarios se encuentran en: <strong>/sbin/if...</strong></p>
            <li><strong>ping [ip address]:</strong> Permite realizar ping a dicha IP</li>
            <li><strong>ssh [ip address] o ssh [username]@[ip address]:</strong> Permite conectarse por medio de SSH a un servidor (ubicado en dicha IP)</li>
            <li><strong>ssh-keygen -t rsa -b 4096 -C [your_email@example.com]:</strong> Permite generar una llave ssh tipo rsa</li>
            <li><strong>ssh-copy-id -i [ssh-key address].pub [username]@[ip address]:</strong> Envia una copia de la llave ssh "pública" a un servidor (ubicado en dicha IP)</li>
            <p>En el servidor se crea una carpeta en el home <strong>(.ssh/authorized_keys)</strong>; donde almacena la llave ssh "pública". </p>
            <li><strong>sudo vim /etc/ssh/sshd_config</strong>: En este archivo de configuración se debe editar la opción para que la única forma de conectarse al servidor sea por medio de ssh y no por medio de username y password.</li>
            <p>La opción a editar es: <strong>PasswordAuthentication [no]</strong>, colocar no; para evitar la autenticación por medio de username y password</p>
            <li><strong>sudo /etc/init.d/ssh restart</strong>: Reinicia el servicio ssh; y aplica los cambios</li>
        </ul>

        <p>A continuación se muestran los puertos más básicos (que debemos conocer) en Linux.</p>
        <!-- Lista desordenada -->
        <ul>
            <li><strong>FTP (File Transfer Protocol):</strong> Puerto 21</li>
            <li><strong>SSH (Secure Shell):</strong> Puerto 22</li>
            <li><strong>HTTP (HyperText Transfer Protocol):</strong> Puerto 80</li>
            <li><strong>SFTP (Secure File Transfer Protocol):</strong> Puerto 115</li>
            <li><strong>HTTPS/SSL (Secure HyperText Transfer Protocol/Secure Sockets Layer):</strong> Puerto 443</li>
        </ul>

        <p>
            Las llaves <strong>SSH</strong> son muy importante para un <strong>SysAdmin</strong>, ya que permiten conectarnos a un servidor y así poder ejecutar comandos de forma remota, de manera muy segura.
            Estas llaves se recomienda que sean almacenadas en el <strong>home</strong> en una carpeta llamada <strong>.ssh/</strong> y es importante asignarle un nombre al momento de generar una nueva para no sobrescribir una llave con otra.
        </p>

        <p>Una forma de evitar estar escribiendo <strong>[username]@[ip address]</strong> para acceder a un servidor es creando una configuración que nos haga automático el login y con un alias corto, es la siguiente:</p>
        <ul>
            <li><strong>vim .ssh/config:</strong> En este archivo se agregaran las instrucciones a seguir.</li>
        </ul>

        <p>Dentro del archivo de configuración es importante que se configure primordialmente así:</p>
        <pre>
            <strong>Host</strong> [alias]
                <strong>HostName</strong> [ip address]
                <strong>Port</strong> 22
                <strong>User</strong> [username]
                <strong>IdentityFile</strong> ~/.ssh/[ssh-keyname].pub</pre>

        <p><strong>VIM es un fork de VI</strong> y viene de manera predeterminada en muchos servidores, en caso de necesitar instalarlo basta con ejecutar (por ejemplo, en Debian/Ubuntu): <strong>apt-get install vim</strong>.</p>
        <!-- Lista desordenada -->
        <ul>
            <li><strong>Modo comandos <strong><kbd>ESC</kbd></strong>:</strong> Permite ejecutar comandos sin modificar el archivo</li>
            <p><strong><kbd>ESC</kbd></strong> Entra al modo comando sí se está en modo inserción</p>
            <li><strong>Modo inserción <strong><kbd>i</kbd></strong>:</strong> Permite insertar modificaciones al archivo</li>
            <p><strong><kbd>i</kbd></strong> Entra al modo insención sí se está en modo comando</p>
            <li><strong>Modo visual <strong><kbd>v</kbd></strong>:</strong> Permite visualizar el archivo</li>
            <p><strong><kbd>v</kbd></strong> Entra al modo visual sí se está en modo comando</p>
            <li><strong><kbd>u</kbd></strong> Revierte los cambios de un archivo, es el <strong><kbd>CNTRL + Z</kbd></strong> de VIM</li>
            <li><strong>Guardar el archivo:</strong> Se realiza con el comando <strong><kbd>w</kbd></strong></li>
            <li><strong>Salir sin guardar:</strong> Se reliza con el comando <strong><kbd>q!</kbd></strong></li>
            <li><strong>Guardar y salir:</strong> Se reliza con el comando <strong><kbd>wq</kbd></strong></li>
        </ul>

        <h2>Instalación y configuración de programas</h2>
        <p>En la dirección <strong>/etc/apt/</strong> existe un archivo llamado <strong>source.list</strong> en el se guardan las fuentes de los repositorios que el sistema consultará al momento de instalar un paquete.</p>
        <!-- Lista desordenada -->
        <ul>
            <li><strong>apt-get:</strong> Este programa "es un manejador de paquetes" y nos permite instalar, desintalar y/o actualizar paquete</li>
            <p>Con <strong>install</strong> seguido del nombre de un paquete podemos instalar dicho paquete; para desintalar basta con usar <strong>remove</strong> seguido del paquete que queramos desintalar</p>
            <li><strong>dpkg -i [url-package].deb:</strong> Permite instalar paquete, por ejemplo los .deb</li>
            <li><strong>dpgk -P [name-package]:</strong> Elimina completamente el paquede incluyento sus datos, absolutamente todo.</li>
            <p>Desintalar los programas con <strong>dpkg -P</strong> no es una forma muy correcta de hacerlo ya este comando solo elimina el paquete que se le ordeno más no los programas que dependen de el, en cambio con <strong>apt-get remove</strong> se desintalan los paquetes de forma inteligente con todo y los programas dependientes a el.</p>
            <li><strong>aptitude:</strong> Este programa permite buscar, administrar e instalar paquetes en Linux de una forma más avanzada que con <strong>apt-get install</strong></li>
        </ul>
    </div>

    <!-- Pie de página -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-sm-8">
                    <h3 class="text-center">Acerca del autor</h3>
                    <p class="foo">Hola, mi nombre es <strong>Joaquin Araujo</strong>, soy Venezolano, natal de la cálida y soleada ciudad de <strong>Maracaibo</strong>. Soy de los que apuesta por <strong>JavaScript</strong> porque sencillamente <strong>¡JavaScript se comió al mundo!</strong> Me enfoco más al área del backend (con <strong>Nodejs</strong>).</p>
                    <p class="foo"><strong>No me limito a aprender cosas nuevas</strong> ya que siempre ando en constante aprendizaje. <strong>Me gusta compartir lo que aprendo</strong> es por ello que realicé esta guía.</p>
                    <p class="foo">Si quieres comunicarte conmigo puedes hacerlo a través de mi cuenta en twitter <strong><a href="https://twitter.com/JoaquinAraujoJS" target="_blank">@JoaquinAraujoJS</a></strong>. Estoy abierto a cualquier proyecto <strong>¡con ganas de cambiar al mundo!</strong></p>
                </div>
                <div class="col-sm-4">
                    <img src="https://avatars0.githubusercontent.com/u/20958348?v=4&s=460" alt="Joaquin Araujo" class="img-rounded">
                </div>
            </div>
            <!-- Créditos a Platzi -->
        </div>
        <div class="container-fluid">
            <p class="text-center white">Esta guía fué realizada por <a href="https://twitter.com/JoaquinAraujoJS" target="_blank" class="white">Joaquin Araujo</a> y es un resumen del <a href="https://platzi.com/cursos/linux/" target="_blank" class="white">Curso de Administración de Servidores de Linux</a> de <a href="https://platzi.com" target="_blank" class="white">Platzi</a></p>
        </div>
    </footer>
</body>
</html>