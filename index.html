<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Curso de Administración de Servidores Linux de Platzi</title>
</head>
<body>
    <!--  -->
    <h1>Curso de Administración de Servidores Linux</h1>

    <p>A continuación se listarán y detallarán los comandos más esenciales a la hora de administrar servidores Linux.</p>
    <!-- Lista desordenada -->
    <ul>
        <li><strong>ifconfig:</strong> Permite ver las network interfaces</li>
        <li><strong>ifdown [network interface]:</strong> Desactiva dicha interface</li>
        <li><strong>ifup [network interface]:</strong> Activa dicha interface</li>
        <p>Los binarios se encuentran en: <strong>/sbin/if...</strong></p>
        <li><strong>ping [ip address]:</strong> Permite realizar ping a dicha IP</li>
        <li><strong>ssh [ip address] o ssh [username]@[ip address]:</strong> Permite conectarse por medio de SSH a un servidor (ubicado en dicha IP)</li>
        <li><strong>ssh-keygen -t rsa -b 4096 -C [your_email@example.com]:</strong> Permite generar una llave ssh tipo rsa</li>
        <li><strong>ssh-copy-id -i [ssh-key address].pub [username]@[ip address]:</strong> Envia una copia de la llave ssh "pública" a un servidor (ubicado en dicha IP)</li>
        <p>En el servidor se crea una carpeta en el home <strong>(.ssh/authorized_keys)</strong>; donde almacena la llave ssh "pública". </p>
        <li><strong>sudo vim /etc/ssh/sshd_config</strong>: En este archivo de configuración se debe editar la opción para que la única forma de conectarse al servidor sea por medio de ssh y no por medio de username y password.</li>
        <p>La opción a editar es: <strong>PasswordAuthentication [no]</strong>, colocar no; para evitar la autenticación por medio de username y password</p>
        <li><strong>sudo /etc/init.d/ssh restart</strong>: Reinicia el servicio ssh; y aplica los cambios</li>
    </ul>

    <p>A continuación se muestran los puertos más básicos (que debemos conocer) en Linux.</p>
    <!-- Lista desordenada -->
    <ul>
        <li><strong>FTP (File Transfer Protocol):</strong> Puerto 21</li>
        <li><strong>SSH (Secure Shell):</strong> Puerto 22</li>
        <li><strong>HTTP (HyperText Transfer Protocol):</strong> Puerto 80</li>
        <li><strong>SFTP (Secure File Transfer Protocol):</strong> Puerto 115</li>
        <li><strong>HTTPS/SSL (Secure HyperText Transfer Protocol/Secure Sockets Layer):</strong> Puerto 443</li>
    </ul>

    <p>
        Las llaves <strong>SSH</strong> son muy importante para un SysAdmin, ya que permiten conectarnos a un servidor y así poder ejecutar comandos de forma remota, de manera muy segura.
        Estas llaves se recomienda que sean almacenadas en el <strong>home</strong> en una carpeta llamada <strong>.ssh/</strong> y es importante asignarle un nombre al momento de generar una nueva para no sobrescribir una llave con otra.
    </p>

    <p>Una forma de evitar estar escribiendo <strong>[username]@[ip address]</strong> para acceder a un servidor es creando una configuración que nos haga automático el login y con un alias corto, es la siguiente:</p>
    <ul>
        <li><strong>vim .ssh/config:</strong> En este archivo se agregaran las instrucciones a seguir.</li>
    </ul>

    <p>Dentro del archivo de configuración es importante que se configure primordialmente así:</p>
    <pre>
        <strong>Host</strong> [alias]
            <strong>HostName</strong> [ip address]
            <strong>Port</strong> 22
            <strong>User</strong> [username]
            <strong>IdentityFile</strong> ~/.ssh/[ssh-keyname].pub
    </pre>

    <p><strong>VIM es un fork de VI</strong> y viene de manera predeterminada en muchos servidores, en caso de necesitar instalarlo basta con ejecutar (por ejemplo, en Debian/Ubuntu): <strong>apt-get install vim</strong>.</p>
    <!-- Lista desordenada -->
    <ul>
        <li><strong>Modo comandos (ESC):</strong> Permite ejecutar comandos sin modificar el archivo</li>
        <li><strong>ESC:</strong> Entra al modo comando sí se está en modo inserción</li>
        <li><strong>Modo inserción (i):</strong> Permite insertar modificaciones al archivo</li>
        <li><strong>i:</strong> Entra al modo insención sí se está en modo comando</li>
        <li><strong>Modo visual (v):</strong> Permite visualizar el archivo</li>
        <li><strong>v:</strong> Entra al modo visual sí se está en modo comando</li>
        <li><strong>u:</strong> Revierte los cambios de un archivo, es el <strong>cntrl + z</strong> de VIM</li>
        <li><strong>Guardar el archivo:</strong> Se realiza con el comando :w</li>
        <li><strong>Salir sin guardar:</strong> Se reliza con el comando :q!</li>
        <li><strong>Guardar y salir:</strong> Se reliza con el comando :wq</li>
    </ul>
</body>
</html>